---
import { getCollection } from "astro:content";
import PageLayout from "@layouts/PageLayout.astro";
import Container from "@components/Container.astro";
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
import BackToPrev from "@components/BackToPrev.astro";
export async function getStaticPaths() {
    const exhibitions = (await getCollection("exhibitions"))
        .filter(exhibition => !exhibition.data.draft)
            return exhibitions.map((exhibition) => ({
            params: { slug: exhibition.slug },
            props: exhibition,
        }));
}

type Props = CollectionEntry<"exhibitions">;

const exhibition = Astro.props;
---

<PageLayout title={exhibition.data.title} description={exhibition.data.description}>
    <Container>
        <div class="animate">
            <BackToPrev href="/exhibitions">
                Back to exhibitions
            </BackToPrev>
        </div>
        <div class="space-y-10">
            <div class="animate font-semibold text-black dark:text-white">
                {exhibition.data.title}
            </div>
            <div class="animate text-black/70 dark:text-white/70 leading-relaxed font-serif"> {exhibition.data.description} </div>
            <div class="animate text-black/70 dark:text-white/70 leading-relaxed font-serif"> {exhibition.data.location} </div>
            <div class="animate text-black/70 dark:text-white/70 leading-relaxed font-serif"> {exhibition.data.startDate} - {exhibition.data.endDate} </div>
        </div>
        {exhibition.data.images?.map(image => (
            <Image src={image.file} alt={image.title || ""} loading="eager" width={800} height={600} class="animate"/>
        ))}
    </Container>
</PageLayout>